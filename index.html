<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>La chaîne de Blocs</title>
		<meta name="description" content="Bienvenue sur la chaîne des Blocs. Si tu es là, c'est probablement que le monde de la blockhain (Bitcoin, Ethereum, Lisk, Monero, et bien d'autres) et de la cryptomonnaie te branchent, alors n'attends pas plus, et découvre l'univers de la chaîne de Blocs." />
		<meta name="author" content="Blocs" />
		<meta name="keywords" content="Blockchain, Cryptomonnaie, Bitcoin, Monero, Lisk, YouTube, Chaîne de bloc" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<script src="./assets/js/particles.min.js" type="text/javascript"></script>
		<script src="./assets/js/jquery-3.2.1.min.js" type="text/javascript"></script>
		<script src="https://d2ncq0durb0run.cloudfront.net/3d5bdf107de596ce77e8ce48a61b585f52bbb61d-4/wooble.js" type="text/javascript"></script>
		<link rel="shortcut icon" type="image/png" href="./assets/img/favicon.png"/>
		<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
		<link rel="stylesheet" href="./font-awesome-4.7.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="./style.css" />
		<link rel="stylesheet" href="./assets/css/flexboxgrid.min.css" />
	</head>
	<body>
		<div id="particles-js"></div>
		<section id="main">
			<div class="row">
				<div class="col-md-5">
					<a href="https://www.youtube.com/channel/UCjvOu6faxxmqE6ZHTLR5qmw?view_as=subscriber" target="_blank" id="profile"></a>
					<div id="socials">
						<a href="https://www.youtube.com/channel/UCjvOu6faxxmqE6ZHTLR5qmw" target="_blank"><i class="fa fa-youtube fa-2x"></i></a> -
						<a href="https://medium.com/@opt_Slals" target="_blank"><i class="fa fa-medium fa-2x"></i></a> -
						<a href="https://twitter.com/opt_Slals" target="_blank"><i class="fa fa-twitter fa-2x"></i></a> -
						<a href="https://github.com/Chaine-de-Blocs/blocs.github.io" target="_blank"><i class="fa fa-github fa-2x"></i></a>
					</div>
					<p id="desc">
						Bienvenue ! Je suis Jonathan et ce site présente des projets relatifs à la &laquo; technologie blockchain &raquo;. Tu peux faire un don, si tu le souhaites, et découvrir le monde de la cryptomonnaie en te rendant sur ma chaîne <a href="https://www.youtube.com/channel/UCjvOu6faxxmqE6ZHTLR5qmw" target="_blank">YouTube</a> !
					</p>
					<div class="video-wrapper">
						<iframe frameborder="0"
							allowfullscreen="1"
							gesture="media"
							allow="encrypted-media"
							title="YouTube video player"
							width="560" height="349"
							src="https://www.youtube.com/embed/2bHFxgR36SA?rel=0&hd=0"></iframe>
					</div>
				</div>
				<div class="col-md-7">
					<h1>Merci pour vos dons !</h1>
					<div id="donations"></div>
					<div class="row">
						<div class="col-md-7 addresses">
							<h2>Mes adresses</h2>
							<span>Bitcoin : </span>
							<p class="address" onClick="window.getSelection().selectAllChildren(this);">
								1BLoCSiMsDPtza55ZdtqjnPdvFfTHhpHaM
							</p>
							<span>Litecoin : </span>
							<p class="address" onClick="window.getSelection().selectAllChildren(this);">
								LQoDR9YgJWez5Ak4CQPQ46uzQe7PcKwJZR
							</p>
						</div>
						<div class="col-md-5">
							<h2 class="no-margin-top">Pour envoyer un message</h2>
							<form id="send-message">
								<label>Ton pseudonyme</label>
								<input name="author" type="text" required />

								<label>Ton message</label>
								<textarea name="text"></textarea>

								<label>Quelle cryptomonnaie as-tu donné ?</label>
								<select name="crypto" id="select-crypto"></select>

								<label>Identifiant de la transaction (TXID)</label>
								<input name="txid" type="text" required />

								<button type="submit">Envoyer</button>
							</form>
							<div id="alert"></div>
						</div>
					</div>
				</div>
			</div>
			<div id="projects">
				<h1>Projets sur la cryptomonnaie</h1>
				<div class="row">
					<div class="col-md-2 project"></div>
				</div>
			</div>
		</section>
		<footer>
			<div id="donation">
				<p>Contribue au projet en faisant une petite donation Bitcoin à l'adresse ci-dessous</p>
				<p><strong>1BLoCSiMsDPtza55ZdtqjnPdvFfTHhpHaM</strong></p>
			</div>
			<div id="copyright">
				<span>Blocs © 2017</span>
			</div>
		</footer>
	</body>
	<script type="text/javascript">
		var API_URL = 'https://cryptodon.herokuapp.com';
		$.get(API_URL + '/cryptos', function (cryptos, status) {
			var selectCrypto = $('#select-crypto');
			for (var crypto of cryptos) {
				selectCrypto.append($('<option>', {
					value: crypto._id,
					text: crypto.name + ` (${crypto.ticker})`
				}));
			}
		});

		var vanGen = {
			href: './vangen/index.html',
			title: 'Vanity Gen',
			description: 'Générateur d\'adresse Bitcoin personnalisée !',
			imgUrl: './assets/img/vanity.jpeg'
		};

		Wb('cardous').init('.project', vanGen);

		var txtShow;

		$.get(API_URL + '/messages', function (messages, status) {
			var messagesToShow = new Array();
			for (var mess of messages) {
				messagesToShow.push({
					title: `${mess.value} ${mess.crypto.ticker} par ${mess.author}`,
					text: mess.text
				});
			}
			Wb('textShow').init('#donations', { messages: messagesToShow }).then(obj => {
				txtShow = obj;
			});
		});

		$('#send-message').on('submit', function (e) {
			e.preventDefault();

			var data = $(this).serializeArray();
			var message = {
				author: data[0].value,
				text: data[1].value,
				crypto: { _id: data[2].value },
				txid: data[3].value
			};

			var alert = $('#alert');
			$.post(API_URL + '/messages', message, function (res) {
				alert.addClass('success');
				alert.text('Ton message a bien été enregistré, merci !');
				if (txtShow) {
					txtShow.pushMessage({title: `${message.value} ${message.crypto.ticker} par ${message.author}`, text: message.text});
				}
			}).fail(function (err) {
				alert.addClass('failed');
				switch (err.responseJSON.code) {
					case 1:
						alert.text('Cette transaction n\'existe pas !');
						break;
					case 2:
						alert.text('Cette transaction n\'envoie pas de fond à un mon adresse');
						break;
					default:

				}
			});

		});
	</script>
	<script type="text/javascript">
		var partJson = {
			"particles": {
				"number": {
					"value": 80,
					"density": {
						"enable": true,
						"value_area": 1200
					}
				},
				"color": {
					"value": "#4168FC"
				},
				"shape": {
					"type": "polygon",
					"stroke": {
						"width": 0,
						"color": "#000000"
					},
					"polygon": {
						"nb_sides": 4
					}
				},
				"opacity": {
					"value": 0.2,
					"random": true,
					"anim": {
						"enable": false,
						"speed": 0.4,
						"opacity_min": 0.1,
						"sync": false
					}
				},
				"size": {
					"value": 7,
					"random": true,
					"anim": {
						"enable": false,
						"speed": 80,
						"size_min": 0.1,
						"sync": false
					}
				},
				"line_linked": {
					"enable": true,
					"distance": 300,
					"color": "#4168FC",
					"opacity": 0.1,
					"width": 2
				},
				"move": {
					"enable": true,
					"speed": 6,
					"direction": "none",
					"random": false,
					"straight": false,
					"out_mode": "out",
					"bounce": false,
					"attract": {
						"enable": false,
						"rotateX": 600,
						"rotateY": 1200
					}
				}
			},
			"interactivity": {
				"detect_on": "canvas",
				"events": {
					"onhover": {
						"enable": false,
						"mode": "repulse"
					},
					"onclick": {
						"enable": true,
						"mode": "push"
					},
					"resize": true
				},
				"modes": {
					"grab": {
						"distance": 800,
						"line_linked": {
							"opacity": 1
						}
					},
					"bubble": {
						"distance": 800,
						"size": 80,
						"duration": 2,
						"opacity": 0.8,
						"speed": 3
					},
					"repulse": {
						"distance": 400,
						"duration": 0.4
					},
					"push": {
						"particles_nb": 4
					},
					"remove": {
						"particles_nb": 2
					}
				}
			},
			"retina_detect": true
		};
		var jsonUri = "data:text/plain;base64," + window.btoa(JSON.stringify(partJson));
		particlesJS.load('particles-js', jsonUri);
	</script>
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-80538061-4"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-80538061-4');
	</script>
</html>
